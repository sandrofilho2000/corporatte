/**!
 * MixItUp v2.1.11
 *
 * @copyright Copyright 2015 KunkaLabs Limited.
 * @author    KunkaLabs Limited.
 * @link      https://mixitup.kunkalabs.com
 *
 * @license   Commercial use requires a commercial license.
 *            https://mixitup.kunkalabs.com/licenses/
 *
 *            Non-commercial use permitted under terms of CC-BY-NC license.
 *            http://creativecommons.org/licenses/by-nc/3.0/
 */
!function($,undf){"use strict";$.MixItUp=function(){var self=this;this._execAction("_constructor",0),$.extend(this,{selectors:{target:".mix",filter:".filter",sort:".sort"},animation:{enable:!0,effects:"fade scale",duration:600,easing:"ease",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",queue:!0,queueLimit:1,animateChangeLayout:!1,animateResizeContainer:!0,animateResizeTargets:!1,staggerSequence:!1,reverseOut:!1},callbacks:{onMixLoad:!1,onMixStart:!1,onMixBusy:!1,onMixEnd:!1,onMixFail:!1,_user:!1},controls:{enable:!0,live:!1,toggleFilterButtons:!1,toggleLogic:"or",activeClass:"active"},layout:{display:"inline-block",containerClass:"",containerClassFail:"fail"},load:{filter:"all",sort:!1},_$body:null,_$container:null,_$targets:null,_$parent:null,_$sortButtons:null,_$filterButtons:null,_suckMode:!1,_mixing:!1,_sorting:!1,_clicking:!1,_loading:!0,_changingLayout:!1,_changingClass:!1,_changingDisplay:!1,_origOrder:[],_startOrder:[],_newOrder:[],_activeFilter:null,_toggleArray:[],_toggleString:"",_activeSort:"default:asc",_newSort:null,_startHeight:null,_newHeight:null,_incPadding:!0,_newDisplay:null,_newClass:null,_targetsBound:0,_targetsDone:0,_queue:[],_$show:$(),_$hide:$()}),this._execAction("_constructor",1)},$.MixItUp.prototype={constructor:$.MixItUp,_instances:{},_handled:{_filter:{},_sort:{}},_bound:{_filter:{},_sort:{}},_actions:{},_filters:{},extend:function(extension){for(var key in extension)$.MixItUp.prototype[key]=extension[key]},addAction:function(hook,name,func,priority){$.MixItUp.prototype._addHook("_actions",hook,name,func,priority)},addFilter:function(hook,name,func,priority){$.MixItUp.prototype._addHook("_filters",hook,name,func,priority)},_addHook:function(type,hook,name,func,priority){var collection=$.MixItUp.prototype[type],obj={};priority=1===priority||"post"===priority?"post":"pre",obj[hook]={},obj[hook][priority]={},obj[hook][priority][name]=func,$.extend(!0,collection,obj)},_init:function(domNode,config){var self=this;if(self._execAction("_init",0,arguments),config&&$.extend(!0,self,config),self._$body=$("body"),self._domNode=domNode,self._$container=$(domNode),self._$container.addClass(self.layout.containerClass),self._id=domNode.id,self._platformDetect(),self._brake=self._getPrefixedCSS("transition","none"),self._refresh(!0),self._$parent=self._$targets.parent().length?self._$targets.parent():self._$container,self.load.sort&&(self._newSort=self._parseSort(self.load.sort),self._newSortString=self.load.sort,self._activeSort=self.load.sort,self._sort(),self._printSort()),self._activeFilter="all"===self.load.filter?self.selectors.target:"none"===self.load.filter?"":self.load.filter,self.controls.enable&&self._bindHandlers(),self.controls.toggleFilterButtons){self._buildToggleArray();for(var i=0;i<self._toggleArray.length;i++)self._updateControls({filter:self._toggleArray[i],sort:self._activeSort},!0)}else self.controls.enable&&self._updateControls({filter:self._activeFilter,sort:self._activeSort});self._filter(),self._init=!0,self._$container.data("mixItUp",self),self._execAction("_init",1,arguments),self._buildState(),self._$targets.css(self._brake),self._goMix(self.animation.enable)},_platformDetect:function(){var self=this,vendorsTrans=["Webkit","Moz","O","ms"],vendorsRAF=["webkit","moz"],chrome=window.navigator.appVersion.match(/Chrome\/(\d+)\./)||!1,ff="undefined"!=typeof InstallTrigger,prefix,transPrefix=function(el){for(var i=0;i<vendorsTrans.length;i++)if(vendorsTrans[i]+"Transition"in el.style)return{prefix:"-"+vendorsTrans[i].toLowerCase()+"-",vendor:vendorsTrans[i]};return"transition"in el.style&&""}(this._domNode);this._execAction("_platformDetect",0),this._chrome=!!chrome&&parseInt(chrome[1],10),this._ff=!!ff&&parseInt(window.navigator.userAgent.match(/rv:([^)]+)\)/)[1]),this._prefix=transPrefix.prefix,this._vendor=transPrefix.vendor,this._suckMode=!window.atob||!this._prefix,this._suckMode&&(this.animation.enable=!1),this._ff&&this._ff<=4&&(this.animation.enable=!1);for(var x=0;x<vendorsRAF.length&&!window.requestAnimationFrame;x++)window.requestAnimationFrame=window[vendorsRAF[x]+"RequestAnimationFrame"];"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(object){return object.__proto__}:function(object){return object.constructor.prototype}),this._domNode.nextElementSibling===undf&&Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var el=this.nextSibling;el;){if(1===el.nodeType)return el;el=el.nextSibling}return null}}),this._execAction("_platformDetect",1)},_refresh:function(init,force){var self=this;self._execAction("_refresh",0,arguments),self._$targets=self._$container.find(self.selectors.target);for(var i=0;i<self._$targets.length;i++){var target;if((target=self._$targets[i]).dataset===undf||force){target.dataset={};for(var j=0;j<target.attributes.length;j++){var attr=target.attributes[j],name=attr.name,val=attr.value;if(name.indexOf("data-")>-1){var dataName=self._helpers._camelCase(name.substring(5,name.length));target.dataset[dataName]=val}}}target.mixParent===undf&&(target.mixParent=self._id)}if(self._$targets.length&&init||!self._origOrder.length&&self._$targets.length){self._origOrder=[];for(var i=0;i<self._$targets.length;i++){var target=self._$targets[i];self._origOrder.push(target)}}self._execAction("_refresh",1,arguments)},_bindHandlers:function(){var self=this,filters=$.MixItUp.prototype._bound._filter,sorts=$.MixItUp.prototype._bound._sort;self._execAction("_bindHandlers",0),self.controls.live?self._$body.on("click.mixItUp."+self._id,self.selectors.sort,(function(){self._processClick($(this),"sort")})).on("click.mixItUp."+self._id,self.selectors.filter,(function(){self._processClick($(this),"filter")})):(self._$sortButtons=$(self.selectors.sort),self._$filterButtons=$(self.selectors.filter),self._$sortButtons.on("click.mixItUp."+self._id,(function(){self._processClick($(this),"sort")})),self._$filterButtons.on("click.mixItUp."+self._id,(function(){self._processClick($(this),"filter")}))),filters[self.selectors.filter]=filters[self.selectors.filter]===undf?1:filters[self.selectors.filter]+1,sorts[self.selectors.sort]=sorts[self.selectors.sort]===undf?1:sorts[self.selectors.sort]+1,self._execAction("_bindHandlers",1)},_processClick:function($button,type){var self=this,trackClick=function($button,type,off){var proto=$.MixItUp.prototype;proto._handled["_"+type][self.selectors[type]]=proto._handled["_"+type][self.selectors[type]]===undf?1:proto._handled["_"+type][self.selectors[type]]+1,proto._handled["_"+type][self.selectors[type]]===proto._bound["_"+type][self.selectors[type]]&&($button[(off?"remove":"add")+"Class"](self.controls.activeClass),delete proto._handled["_"+type][self.selectors[type]])};if(self._execAction("_processClick",0,arguments),!self._mixing||self.animation.queue&&self._queue.length<self.animation.queueLimit){if(self._clicking=!0,"sort"===type){var sort=$button.attr("data-sort");(!$button.hasClass(self.controls.activeClass)||sort.indexOf("random")>-1)&&($(self.selectors.sort).removeClass(self.controls.activeClass),trackClick($button,type),self.sort(sort))}if("filter"===type){var filter=$button.attr("data-filter"),ndx,seperator="or"===self.controls.toggleLogic?",":"";self.controls.toggleFilterButtons?(self._buildToggleArray(),$button.hasClass(self.controls.activeClass)?(trackClick($button,type,!0),ndx=self._toggleArray.indexOf(filter),self._toggleArray.splice(ndx,1)):(trackClick($button,type),self._toggleArray.push(filter)),self._toggleArray=$.grep(self._toggleArray,(function(n){return n})),self._toggleString=self._toggleArray.join(seperator),self.filter(self._toggleString)):$button.hasClass(self.controls.activeClass)||($(self.selectors.filter).removeClass(self.controls.activeClass),trackClick($button,type),self.filter(filter))}self._execAction("_processClick",1,arguments)}else"function"==typeof self.callbacks.onMixBusy&&self.callbacks.onMixBusy.call(self._domNode,self._state,self),self._execAction("_processClickBusy",1,arguments)},_buildToggleArray:function(){var self=this,activeFilter=self._activeFilter.replace(/\s/g,"");if(self._execAction("_buildToggleArray",0,arguments),"or"===self.controls.toggleLogic)self._toggleArray=activeFilter.split(",");else{self._toggleArray=activeFilter.split("."),!self._toggleArray[0]&&self._toggleArray.shift();for(var i=0,filter;filter=self._toggleArray[i];i++)self._toggleArray[i]="."+filter}self._execAction("_buildToggleArray",1,arguments)},_updateControls:function(command,multi){var self=this,output={filter:command.filter,sort:command.sort},update=function($el,filter){try{multi&&"filter"===type&&"none"!==output.filter&&""!==output.filter?$el.filter(filter).addClass(self.controls.activeClass):$el.removeClass(self.controls.activeClass).filter(filter).addClass(self.controls.activeClass)}catch(e){}},type="filter",$el=null;self._execAction("_updateControls",0,arguments),command.filter===undf&&(output.filter=self._activeFilter),command.sort===undf&&(output.sort=self._activeSort),output.filter===self.selectors.target&&(output.filter="all");for(var i=0;i<2;i++)($el=self.controls.live?$(self.selectors[type]):self["_$"+type+"Buttons"])&&update($el,"[data-"+type+'="'+output[type]+'"]'),type="sort";self._execAction("_updateControls",1,arguments)},_filter:function(){var self=this;this._execAction("_filter",0);for(var i=0;i<this._$targets.length;i++){var $target=$(this._$targets[i]);$target.is(this._activeFilter)?this._$show=this._$show.add($target):this._$hide=this._$hide.add($target)}this._execAction("_filter",1)},_sort:function(){var self=this,arrayShuffle=function(oldArray){for(var newArray=oldArray.slice(),len=newArray.length,i=len;i--;){var p=parseInt(Math.random()*len),t=newArray[i];newArray[i]=newArray[p],newArray[p]=t}return newArray};self._execAction("_sort",0),self._startOrder=[];for(var i=0;i<self._$targets.length;i++){var target=self._$targets[i];self._startOrder.push(target)}switch(self._newSort[0].sortBy){case"default":self._newOrder=self._origOrder;break;case"random":self._newOrder=arrayShuffle(self._startOrder);break;case"custom":self._newOrder=self._newSort[0].order;break;default:self._newOrder=self._startOrder.concat().sort((function(a,b){return self._compare(a,b)}))}self._execAction("_sort",1)},_compare:function(a,b,depth){depth=depth||0;var self=this,order=self._newSort[depth].order,getData=function(el){return el.dataset[self._newSort[depth].sortBy]||0},attrA=isNaN(1*getData(a))?getData(a).toLowerCase():1*getData(a),attrB=isNaN(1*getData(b))?getData(b).toLowerCase():1*getData(b);return attrA<attrB?"asc"===order?-1:1:attrA>attrB?"asc"===order?1:-1:attrA===attrB&&self._newSort.length>depth+1?self._compare(a,b,depth+1):0},_printSort:function(reset){var self=this,order=reset?self._startOrder:self._newOrder,targets=self._$parent[0].querySelectorAll(self.selectors.target),nextSibling=targets.length?targets[targets.length-1].nextElementSibling:null,frag=document.createDocumentFragment();self._execAction("_printSort",0,arguments);for(var i=0;i<targets.length;i++){var target=targets[i],whiteSpace=target.nextSibling;"absolute"!==target.style.position&&(whiteSpace&&"#text"===whiteSpace.nodeName&&self._$parent[0].removeChild(whiteSpace),self._$parent[0].removeChild(target))}for(var i=0;i<order.length;i++){var el=order[i];if("default"!==self._newSort[0].sortBy||"desc"!==self._newSort[0].order||reset)frag.appendChild(el),frag.appendChild(document.createTextNode(" "));else{var firstChild=frag.firstChild;frag.insertBefore(el,firstChild),frag.insertBefore(document.createTextNode(" "),el)}}nextSibling?self._$parent[0].insertBefore(frag,nextSibling):self._$parent[0].appendChild(frag),self._execAction("_printSort",1,arguments)},_parseSort:function(sortString){for(var self=this,rules="string"==typeof sortString?sortString.split(" "):[sortString],newSort=[],i=0;i<rules.length;i++){var rule="string"==typeof sortString?rules[i].split(":"):["custom",rules[i]],ruleObj={sortBy:self._helpers._camelCase(rule[0]),order:rule[1]||"asc"};if(newSort.push(ruleObj),"default"===ruleObj.sortBy||"random"===ruleObj.sortBy)break}return self._execFilter("_parseSort",newSort,arguments)},_parseEffects:function(){var self=this,effects={opacity:"",transformIn:"",transformOut:"",filter:""},parse=function(effect,extract,reverse){if(self.animation.effects.indexOf(effect)>-1){if(extract){var propIndex=self.animation.effects.indexOf(effect+"(");if(propIndex>-1){var str=self.animation.effects.substring(propIndex),match,val;return{val:/\(([^)]+)\)/.exec(str)[1]}}}return!0}return!1},negate=function(value,invert){return invert?"-"===value.charAt(0)?value.substr(1,value.length):"-"+value:value},buildTransform=function(key,invert){for(var transforms=[["scale",".01"],["translateX","20px"],["translateY","20px"],["translateZ","20px"],["rotateX","90deg"],["rotateY","90deg"],["rotateZ","180deg"]],i=0;i<transforms.length;i++){var prop=transforms[i][0],def=transforms[i][1],inverted=invert&&"scale"!==prop;effects[key]+=parse(prop)?prop+"("+negate(parse(prop,!0).val||def,inverted)+") ":""}};return effects.opacity=parse("fade")?parse("fade",!0).val||"0":"1",buildTransform("transformIn"),self.animation.reverseOut?buildTransform("transformOut",!0):effects.transformOut=effects.transformIn,effects.transition={},effects.transition=self._getPrefixedCSS("transition","all "+self.animation.duration+"ms "+self.animation.easing+", opacity "+self.animation.duration+"ms linear"),self.animation.stagger=!!parse("stagger"),self.animation.staggerDuration=parseInt(parse("stagger")&&parse("stagger",!0).val?parse("stagger",!0).val:100),self._execFilter("_parseEffects",effects)},_buildState:function(future){var self=this,state={};if(this._execAction("_buildState",0),state={activeFilter:""===this._activeFilter?"none":this._activeFilter,activeSort:future&&this._newSortString?this._newSortString:this._activeSort,fail:!this._$show.length&&""!==this._activeFilter,$targets:this._$targets,$show:this._$show,$hide:this._$hide,totalTargets:this._$targets.length,totalShow:this._$show.length,totalHide:this._$hide.length,display:future&&this._newDisplay?this._newDisplay:this.layout.display},future)return this._execFilter("_buildState",state);this._state=state,this._execAction("_buildState",1)},_goMix:function(animate){var self=this,phase1=function(){self._chrome&&31===self._chrome&&chromeFix(self._$parent[0]),self._setInter(),phase2()},phase2=function(){var scrollTop=window.pageYOffset,scrollLeft=window.pageXOffset,docHeight=document.documentElement.scrollHeight;self._getInterMixData(),self._setFinal(),self._getFinalMixData(),window.pageYOffset!==scrollTop&&window.scrollTo(scrollLeft,scrollTop),self._prepTargets(),window.requestAnimationFrame?requestAnimationFrame(phase3):setTimeout((function(){phase3()}),20)},phase3=function(){self._animateTargets(),0===self._targetsBound&&self._cleanUp()},chromeFix=function(grid){var parent=grid.parentElement,placeholder=document.createElement("div"),frag=document.createDocumentFragment();parent.insertBefore(placeholder,grid),frag.appendChild(grid),parent.replaceChild(grid,placeholder)},futureState=self._buildState(!0);self._execAction("_goMix",0,arguments),!self.animation.duration&&(animate=!1),self._mixing=!0,self._$container.removeClass(self.layout.containerClassFail),"function"==typeof self.callbacks.onMixStart&&self.callbacks.onMixStart.call(self._domNode,self._state,futureState,self),self._$container.trigger("mixStart",[self._state,futureState,self]),self._getOrigMixData(),animate&&!self._suckMode?window.requestAnimationFrame?requestAnimationFrame(phase1):phase1():self._cleanUp(),self._execAction("_goMix",1,arguments)},_getTargetData:function(el,stage){var self=this,elStyle;el.dataset[stage+"PosX"]=el.offsetLeft,el.dataset[stage+"PosY"]=el.offsetTop,this.animation.animateResizeTargets&&(elStyle=this._suckMode?{marginBottom:"",marginRight:""}:window.getComputedStyle(el),el.dataset[stage+"MarginBottom"]=parseInt(elStyle.marginBottom),el.dataset[stage+"MarginRight"]=parseInt(elStyle.marginRight),el.dataset[stage+"Width"]=el.offsetWidth,el.dataset[stage+"Height"]=el.offsetHeight)},_getOrigMixData:function(){var self=this,parentStyle=this._suckMode?{boxSizing:""}:window.getComputedStyle(this._$parent[0]),parentBS=parentStyle.boxSizing||parentStyle[this._vendor+"BoxSizing"];this._incPadding="border-box"===parentBS,this._execAction("_getOrigMixData",0),!this._suckMode&&(this.effects=this._parseEffects()),this._$toHide=this._$hide.filter(":visible"),this._$toShow=this._$show.filter(":hidden"),this._$pre=this._$targets.filter(":visible"),this._startHeight=this._incPadding?this._$parent.outerHeight():this._$parent.height();for(var i=0;i<this._$pre.length;i++){var el=this._$pre[i];this._getTargetData(el,"orig")}this._execAction("_getOrigMixData",1)},_setInter:function(){var self=this;this._execAction("_setInter",0),this._changingLayout&&this.animation.animateChangeLayout?(this._$toShow.css("display",this._newDisplay),this._changingClass&&this._$container.removeClass(this.layout.containerClass).addClass(this._newClass)):this._$toShow.css("display",this.layout.display),this._execAction("_setInter",1)},_getInterMixData:function(){var self=this;this._execAction("_getInterMixData",0);for(var i=0;i<this._$toShow.length;i++){var el=this._$toShow[i];this._getTargetData(el,"inter")}for(var i=0;i<this._$pre.length;i++){var el=this._$pre[i];this._getTargetData(el,"inter")}this._execAction("_getInterMixData",1)},_setFinal:function(){var self=this;this._execAction("_setFinal",0),this._sorting&&this._printSort(),this._$toHide.removeStyle("display"),this._changingLayout&&this.animation.animateChangeLayout&&this._$pre.css("display",this._newDisplay),this._execAction("_setFinal",1)},_getFinalMixData:function(){var self=this;this._execAction("_getFinalMixData",0);for(var i=0;i<this._$toShow.length;i++){var el=this._$toShow[i];this._getTargetData(el,"final")}for(var i=0;i<this._$pre.length;i++){var el=this._$pre[i];this._getTargetData(el,"final")}this._newHeight=this._incPadding?this._$parent.outerHeight():this._$parent.height(),this._sorting&&this._printSort(!0),this._$toShow.removeStyle("display"),this._$pre.css("display",this.layout.display),this._changingClass&&this.animation.animateChangeLayout&&this._$container.removeClass(this._newClass).addClass(this.layout.containerClass),this._execAction("_getFinalMixData",1)},_prepTargets:function(){var self=this,transformCSS={_in:this._getPrefixedCSS("transform",this.effects.transformIn),_out:this._getPrefixedCSS("transform",this.effects.transformOut)};this._execAction("_prepTargets",0),this.animation.animateResizeContainer&&this._$parent.css("height",this._startHeight+"px");for(var i=0;i<this._$toShow.length;i++){var el=this._$toShow[i],$el=$(el);el.style.opacity=this.effects.opacity,el.style.display=this._changingLayout&&this.animation.animateChangeLayout?this._newDisplay:this.layout.display,$el.css(transformCSS._in),this.animation.animateResizeTargets&&(el.style.width=el.dataset.finalWidth+"px",el.style.height=el.dataset.finalHeight+"px",el.style.marginRight=-(el.dataset.finalWidth-el.dataset.interWidth)+1*el.dataset.finalMarginRight+"px",el.style.marginBottom=-(el.dataset.finalHeight-el.dataset.interHeight)+1*el.dataset.finalMarginBottom+"px")}for(var i=0;i<this._$pre.length;i++){var el=this._$pre[i],$el=$(el),translate={x:el.dataset.origPosX-el.dataset.interPosX,y:el.dataset.origPosY-el.dataset.interPosY},transformCSS=this._getPrefixedCSS("transform","translate("+translate.x+"px,"+translate.y+"px)");$el.css(transformCSS),this.animation.animateResizeTargets&&(el.style.width=el.dataset.origWidth+"px",el.style.height=el.dataset.origHeight+"px",el.dataset.origWidth-el.dataset.finalWidth&&(el.style.marginRight=-(el.dataset.origWidth-el.dataset.interWidth)+1*el.dataset.origMarginRight+"px"),el.dataset.origHeight-el.dataset.finalHeight&&(el.style.marginBottom=-(el.dataset.origHeight-el.dataset.interHeight)+1*el.dataset.origMarginBottom+"px"))}this._execAction("_prepTargets",1)},_animateTargets:function(){var self=this;this._execAction("_animateTargets",0),this._targetsDone=0,this._targetsBound=0,this._$parent.css(this._getPrefixedCSS("perspective",this.animation.perspectiveDistance+"px")).css(this._getPrefixedCSS("perspective-origin",this.animation.perspectiveOrigin)),this.animation.animateResizeContainer&&this._$parent.css(this._getPrefixedCSS("transition","height "+this.animation.duration+"ms ease")).css("height",this._newHeight+"px");for(var i=0;i<this._$toShow.length;i++){var el=this._$toShow[i],$el=$(el),translate={x:el.dataset.finalPosX-el.dataset.interPosX,y:el.dataset.finalPosY-el.dataset.interPosY},delay=this._getDelay(i),toShowCSS={};el.style.opacity="";for(var j=0;j<2;j++){var a=0===j?a=this._prefix:"";this._ff&&this._ff<=20&&(toShowCSS[a+"transition-property"]="all",toShowCSS[a+"transition-timing-function"]=this.animation.easing+"ms",toShowCSS[a+"transition-duration"]=this.animation.duration+"ms"),toShowCSS[a+"transition-delay"]=delay+"ms",toShowCSS[a+"transform"]="translate("+translate.x+"px,"+translate.y+"px)"}(this.effects.transform||this.effects.opacity)&&this._bindTargetDone($el),this._ff&&this._ff<=20?$el.css(toShowCSS):$el.css(this.effects.transition).css(toShowCSS)}for(var i=0;i<this._$pre.length;i++){var el=this._$pre[i],$el=$(el),translate={x:el.dataset.finalPosX-el.dataset.interPosX,y:el.dataset.finalPosY-el.dataset.interPosY},delay=this._getDelay(i);el.dataset.finalPosX===el.dataset.origPosX&&el.dataset.finalPosY===el.dataset.origPosY||this._bindTargetDone($el),$el.css(this._getPrefixedCSS("transition","all "+this.animation.duration+"ms "+this.animation.easing+" "+delay+"ms")),$el.css(this._getPrefixedCSS("transform","translate("+translate.x+"px,"+translate.y+"px)")),this.animation.animateResizeTargets&&(el.dataset.origWidth-el.dataset.finalWidth&&1*el.dataset.finalWidth&&(el.style.width=el.dataset.finalWidth+"px",el.style.marginRight=-(el.dataset.finalWidth-el.dataset.interWidth)+1*el.dataset.finalMarginRight+"px"),el.dataset.origHeight-el.dataset.finalHeight&&1*el.dataset.finalHeight&&(el.style.height=el.dataset.finalHeight+"px",el.style.marginBottom=-(el.dataset.finalHeight-el.dataset.interHeight)+1*el.dataset.finalMarginBottom+"px"))}this._changingClass&&this._$container.removeClass(this.layout.containerClass).addClass(this._newClass);for(var i=0;i<this._$toHide.length;i++){for(var el=this._$toHide[i],$el=$(el),delay=this._getDelay(i),toHideCSS={},j=0;j<2;j++){var a;toHideCSS[(a=0===j?a=this._prefix:"")+"transition-delay"]=delay+"ms",toHideCSS[a+"transform"]=this.effects.transformOut,toHideCSS.opacity=this.effects.opacity}$el.css(this.effects.transition).css(toHideCSS),(this.effects.transform||this.effects.opacity)&&this._bindTargetDone($el)}this._execAction("_animateTargets",1)},_bindTargetDone:function($el){var self=this,el=$el[0];self._execAction("_bindTargetDone",0,arguments),el.dataset.bound||(el.dataset.bound=!0,self._targetsBound++,$el.on("webkitTransitionEnd.mixItUp transitionend.mixItUp",(function(e){(e.originalEvent.propertyName.indexOf("transform")>-1||e.originalEvent.propertyName.indexOf("opacity")>-1)&&$(e.originalEvent.target).is(self.selectors.target)&&($el.off(".mixItUp"),el.dataset.bound="",self._targetDone())}))),self._execAction("_bindTargetDone",1,arguments)},_targetDone:function(){var self=this;this._execAction("_targetDone",0),this._targetsDone++,this._targetsDone===this._targetsBound&&this._cleanUp(),this._execAction("_targetDone",1)},_cleanUp:function(){var self=this,targetStyles=self.animation.animateResizeTargets?"transform opacity width height margin-bottom margin-right":"transform opacity",unBrake=function(){self._$targets.removeStyle("transition",self._prefix)};self._execAction("_cleanUp",0),self._changingLayout?self._$show.css("display",self._newDisplay):self._$show.css("display",self.layout.display),self._$targets.css(self._brake),self._$targets.removeStyle(targetStyles,self._prefix).removeAttr("data-inter-pos-x data-inter-pos-y data-final-pos-x data-final-pos-y data-orig-pos-x data-orig-pos-y data-orig-height data-orig-width data-final-height data-final-width data-inter-width data-inter-height data-orig-margin-right data-orig-margin-bottom data-inter-margin-right data-inter-margin-bottom data-final-margin-right data-final-margin-bottom"),self._$hide.removeStyle("display"),self._$parent.removeStyle("height transition perspective-distance perspective perspective-origin-x perspective-origin-y perspective-origin perspectiveOrigin",self._prefix),self._sorting&&(self._printSort(),self._activeSort=self._newSortString,self._sorting=!1),self._changingLayout&&(self._changingDisplay&&(self.layout.display=self._newDisplay,self._changingDisplay=!1),self._changingClass&&(self._$parent.removeClass(self.layout.containerClass).addClass(self._newClass),self.layout.containerClass=self._newClass,self._changingClass=!1),self._changingLayout=!1),self._refresh(),self._buildState(),self._state.fail&&self._$container.addClass(self.layout.containerClassFail),self._$show=$(),self._$hide=$(),window.requestAnimationFrame&&requestAnimationFrame(unBrake),self._mixing=!1,"function"==typeof self.callbacks._user&&self.callbacks._user.call(self._domNode,self._state,self),"function"==typeof self.callbacks.onMixEnd&&self.callbacks.onMixEnd.call(self._domNode,self._state,self),self._$container.trigger("mixEnd",[self._state,self]),self._state.fail&&("function"==typeof self.callbacks.onMixFail&&self.callbacks.onMixFail.call(self._domNode,self._state,self),self._$container.trigger("mixFail",[self._state,self])),self._loading&&("function"==typeof self.callbacks.onMixLoad&&self.callbacks.onMixLoad.call(self._domNode,self._state,self),self._$container.trigger("mixLoad",[self._state,self])),self._queue.length&&(self._execAction("_queue",0),self.multiMix(self._queue[0][0],self._queue[0][1],self._queue[0][2]),self._queue.splice(0,1)),self._execAction("_cleanUp",1),self._loading=!1},_getPrefixedCSS:function(property,value,prefixValue){var self=this,styles={},prefix="",i=-1;for(i=0;i<2;i++)styles[(prefix=0===i?self._prefix:"")+property]=prefixValue?prefix+value:value;return self._execFilter("_getPrefixedCSS",styles,arguments)},_getDelay:function(i){var self=this,n="function"==typeof self.animation.staggerSequence?self.animation.staggerSequence.call(self._domNode,i,self._state):i,delay=self.animation.stagger?n*self.animation.staggerDuration:0;return self._execFilter("_getDelay",delay,arguments)},_parseMultiMixArgs:function(args){for(var self=this,output={command:null,animate:self.animation.enable,callback:null},i=0;i<args.length;i++){var arg=args[i];null!==arg&&("object"==typeof arg||"string"==typeof arg?output.command=arg:"boolean"==typeof arg?output.animate=arg:"function"==typeof arg&&(output.callback=arg))}return self._execFilter("_parseMultiMixArgs",output,arguments)},_parseInsertArgs:function(args){for(var self=this,output={index:0,$object:$(),multiMix:{filter:self._state.activeFilter},callback:null},i=0;i<args.length;i++){var arg=args[i];"number"==typeof arg?output.index=arg:"object"==typeof arg&&arg instanceof $?output.$object=arg:"object"==typeof arg&&self._helpers._isElement(arg)?output.$object=$(arg):"object"==typeof arg&&null!==arg?output.multiMix=arg:"boolean"!=typeof arg||arg?"function"==typeof arg&&(output.callback=arg):output.multiMix=!1}return self._execFilter("_parseInsertArgs",output,arguments)},_execAction:function(methodName,isPost,args){var self=this,context=isPost?"post":"pre";if(!this._actions.isEmptyObject&&this._actions.hasOwnProperty(methodName))for(var key in this._actions[methodName][context])this._actions[methodName][context][key].call(this,args)},_execFilter:function(methodName,value,args){var self=this;if(this._filters.isEmptyObject||!this._filters.hasOwnProperty(methodName))return value;for(var key in this._filters[methodName])return this._filters[methodName][key].call(this,args)},_helpers:{_camelCase:function(string){return string.replace(/-([a-z])/g,(function(g){return g[1].toUpperCase()}))},_isElement:function(el){return window.HTMLElement?el instanceof HTMLElement:null!==el&&1===el.nodeType&&"string"===el.nodeName}},isMixing:function(){var self=this;return this._execFilter("isMixing",this._mixing)},filter:function(){var self=this,args=self._parseMultiMixArgs(arguments);self._clicking&&(self._toggleString=""),self.multiMix({filter:args.command},args.animate,args.callback)},sort:function(){var self=this,args=self._parseMultiMixArgs(arguments);self.multiMix({sort:args.command},args.animate,args.callback)},changeLayout:function(){var self=this,args=self._parseMultiMixArgs(arguments);self.multiMix({changeLayout:args.command},args.animate,args.callback)},multiMix:function(){var self=this,args=self._parseMultiMixArgs(arguments);if(self._execAction("multiMix",0,arguments),self._mixing)self.animation.queue&&self._queue.length<self.animation.queueLimit?(self._queue.push(arguments),self.controls.enable&&!self._clicking&&self._updateControls(args.command),self._execAction("multiMixQueue",1,arguments)):("function"==typeof self.callbacks.onMixBusy&&self.callbacks.onMixBusy.call(self._domNode,self._state,self),self._$container.trigger("mixBusy",[self._state,self]),self._execAction("multiMixBusy",1,arguments));else{self.controls.enable&&!self._clicking&&(self.controls.toggleFilterButtons&&self._buildToggleArray(),self._updateControls(args.command,self.controls.toggleFilterButtons)),self._queue.length<2&&(self._clicking=!1),delete self.callbacks._user,args.callback&&(self.callbacks._user=args.callback);var sort=args.command.sort,filter=args.command.filter,changeLayout=args.command.changeLayout;self._refresh(),sort&&(self._newSort=self._parseSort(sort),self._newSortString=sort,self._sorting=!0,self._sort()),filter!==undf&&(filter="all"===filter?self.selectors.target:filter,self._activeFilter=filter),self._filter(),changeLayout&&(self._newDisplay="string"==typeof changeLayout?changeLayout:changeLayout.display||self.layout.display,self._newClass=changeLayout.containerClass||"",self._newDisplay===self.layout.display&&self._newClass===self.layout.containerClass||(self._changingLayout=!0,self._changingClass=self._newClass!==self.layout.containerClass,self._changingDisplay=self._newDisplay!==self.layout.display)),self._$targets.css(self._brake),self._goMix(args.animate^self.animation.enable?args.animate:self.animation.enable),self._execAction("multiMix",1,arguments)}},insert:function(){var self=this,args=self._parseInsertArgs(arguments),callback="function"==typeof args.callback?args.callback:null,frag=document.createDocumentFragment(),target=(self._refresh(),self._$targets.length?args.index<self._$targets.length||!self._$targets.length?self._$targets[args.index]:self._$targets[self._$targets.length-1].nextElementSibling:self._$parent[0].children[0]);if(self._execAction("insert",0,arguments),args.$object){for(var i=0;i<args.$object.length;i++){var el=args.$object[i];frag.appendChild(el),frag.appendChild(document.createTextNode(" "))}self._$parent[0].insertBefore(frag,target)}self._execAction("insert",1,arguments),"object"==typeof args.multiMix&&self.multiMix(args.multiMix,callback)},prepend:function(){var self=this,args=self._parseInsertArgs(arguments);self.insert(0,args.$object,args.multiMix,args.callback)},append:function(){var self=this,args=self._parseInsertArgs(arguments);self.insert(self._state.totalTargets,args.$object,args.multiMix,args.callback)},getOption:function(string){var self=this,getProperty=function(obj,prop){for(var parts=prop.split("."),last=parts.pop(),l=parts.length,i=1,current=parts[0]||prop;(obj=obj[current])&&i<l;)current=parts[i],i++;if(obj!==undf)return obj[last]!==undf?obj[last]:obj};return string?self._execFilter("getOption",getProperty(self,string),arguments):self},setOptions:function(config){var self=this;self._execAction("setOptions",0,arguments),"object"==typeof config&&$.extend(!0,self,config),self._execAction("setOptions",1,arguments)},getState:function(){var self=this;return this._execFilter("getState",this._state,this)},forceRefresh:function(){var self=this;this._refresh(!1,!0)},destroy:function(hideAll){var self=this,filters=$.MixItUp.prototype._bound._filter,sorts=$.MixItUp.prototype._bound._sort;self._execAction("destroy",0,arguments),self._$body.add($(self.selectors.sort)).add($(self.selectors.filter)).off(".mixItUp");for(var i=0;i<self._$targets.length;i++){var target=self._$targets[i];hideAll&&(target.style.display=""),delete target.mixParent}self._execAction("destroy",1,arguments),filters[self.selectors.filter]&&filters[self.selectors.filter]>1?filters[self.selectors.filter]--:1===filters[self.selectors.filter]&&delete filters[self.selectors.filter],sorts[self.selectors.sort]&&sorts[self.selectors.sort]>1?sorts[self.selectors.sort]--:1===sorts[self.selectors.sort]&&delete sorts[self.selectors.sort],delete $.MixItUp.prototype._instances[self._id]}},$.fn.mixItUp=function(){var args=arguments,dataReturn=[],eachReturn,_instantiate=function(domNode,settings){var instance=new $.MixItUp,rand=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};instance._execAction("_instantiate",0,arguments),domNode.id=domNode.id?domNode.id:"MixItUp"+rand(),instance._instances[domNode.id]||(instance._instances[domNode.id]=instance,instance._init(domNode,settings)),instance._execAction("_instantiate",1,arguments)};return eachReturn=this.each((function(){if(args&&"string"==typeof args[0]){var instance=$.MixItUp.prototype._instances[this.id];if("isLoaded"===args[0])dataReturn.push(!!instance);else{var data=instance[args[0]](args[1],args[2],args[3]);data!==undf&&dataReturn.push(data)}}else _instantiate(this,args[0])})),dataReturn.length?dataReturn.length>1?dataReturn:dataReturn[0]:eachReturn},$.fn.removeStyle=function(style,prefix){return prefix=prefix||"",this.each((function(){for(var el=this,styles=style.split(" "),i=0;i<styles.length;i++)for(var j=0;j<4;j++){switch(j){case 0:var prop=styles[i];break;case 1:var prop=$.MixItUp.prototype._helpers._camelCase(prop);break;case 2:var prop=prefix+styles[i];break;case 3:var prop=$.MixItUp.prototype._helpers._camelCase(prefix+styles[i])}if(el.style[prop]!==undf&&"unknown"!=typeof el.style[prop]&&el.style[prop].length>0&&(el.style[prop]=""),!prefix&&1===j)break}el.attributes&&el.attributes.style&&el.attributes.style!==undf&&""===el.attributes.style.value&&el.attributes.removeNamedItem("style")}))}}(jQuery);